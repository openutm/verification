# config/default.yaml
version: "1.0" # Configuration schema version

run_id: "daily-conformance-check" # An optional identifier for the run

# Details of the Flight Blender deployment under test
flight_blender:
  url: "http://localhost:8000"
  # Auth can be 'none' or 'passport'
  auth:
    type: "none" # For using the dummy-oauth provider
    # type: "passport" # For using a real Passport instance
    # client_id: "your-client-id"
    # client_secret: "your-client-secret"
    # token_endpoint: "/oauth/token/"
    # passport_base_url: "https://passport.testflight.openutm.net"
    audience: "testflight.flightblender.com" # Audience for OAuth tokens, default for local testing
    scopes: ["flightblender.write", "flightblender.read"] # Scopes for write and read access

# Details for connecting to the OpenSky Network API
opensky:
  auth:
    type: "none" # 'none' for no auth, 'oauth2' for OAuth2 client credentials
    client_id: "your-client-id"
    client_secret: "your-client-secret"

# Air traffic data configuration
air_traffic_simulator_settings:
  number_of_aircraft: 3
  simulation_duration: 10
  single_or_multiple_sensors: "multiple" # this setting specifiies if the traffic data is submitted from a single sensor or multiple sensors
  sensor_ids: ["a0b7d47e5eac45dc8cbaf47e6fe0e558"] # List of sensor IDs to use when 'multiple' is selected
  session_ids: ["ee9405e564ea4373823e37d950858e6a"] # List of session IDs to use when 'multiple' is selected, a session id is needed in Flight Blender to depict a period of time these observations were made (this assumes the observations may not be continuous); if empty, random UUIDs will be generated

# Bluesky Air traffic data configuration
blue_sky_air_traffic_simulator_settings:
  number_of_aircraft: 3
  simulation_duration_seconds: 30
  single_or_multiple_sensors: "multiple" # this setting specifiies if the traffic data is submitted from a single sensor or multiple sensors
  sensor_ids: ["562e6297036a4adebb4848afcd1ede90"] # List of sensor IDs to use when 'multiple' is selected
  session_ids: ["ee9405e564ea4373823e37d950858e6a"] # List of session IDs to use when 'multiple' is selected, a session id is needed in Flight Blender to depict a period of time these observations were made (this assumes the observations may not be continuous); if empty, random UUIDs will be generated

# Bayesian Air traffic data configuration
bayesian_air_traffic_simulator_settings:
  number_of_aircraft: 3
  simulation_duration_seconds: 30
  single_or_multiple_sensors: "multiple" # this setting specifies if the traffic data is submitted from a single sensor or multiple sensors
  sensor_ids: ["562e6297036a4adebb4848afcd1ede90"] # List of sensor IDs to use when 'multiple' is selected
  session_ids: ["ee9405e564ea4373823e37d950858e6a"] # List of session IDs to use when 'multiple' is selected, a session id is needed in Flight Blender to depict a period of time these observations were made (this assumes the observations may not be continuous); if empty, random UUIDs will be generated

# AMQP/RabbitMQ configuration for event monitoring
# Set AMQP_URL environment variable or configure here
amqp:
  url: "" # e.g., amqp://guest:guest@localhost:5672/ (can also use AMQP_URL env var)
  exchange_name: "operational_events"
  exchange_type: "direct"
  routing_key: "#" # Flight declaration ID or '#' for all messages
  queue_name: "" # Empty means auto-generate exclusive queue

data_files:
  trajectory: "config/bern/trajectory_f1.json" # Path to flight declarations JSON file
  simulation: "config/bern/blue_sky_sim_example.scn" # Path to air traffic simulation scenario file, used for BlueSky enabled simulations only.
  flight_declaration: "config/bern/flight_declaration.json" # Path to flight declarations JSON file
  flight_declaration_via_operational_intent: "config/bern/flight_declaration_via_operational_intent.json" # Path to flight declaration via operational intent JSON file
  geo_fence: "src/openutm_verification/assets/aoi_geo_fence_samples/geo_fence.geojson" # Path to geo-fences

# List of test scenario IDs to execute
suites:
  basic_conformance:
    scenarios:
      - name: bluesky_sim_air_traffic_data
        simulation: "config/bern/blue_sky_sim_example.scn"
      - name: F1_flow_no_telemetry_with_user_input
      - name: F1_happy_path
        trajectory: "config/bern/trajectory_f1.json"
      - name: F2_contingent_path
        trajectory: "config/bern/trajectory_f2.json"
  astm_f3623_conformance:
    scenarios:
    - name: openutm_sim_air_traffic_data
    - name: sdsp_track
    - name: sdsp_heartbeat
  extra:
    scenarios:
    - name: F3_non_conforming_path
      trajectory: "config/bern/trajectory_f3.json"
#     - name: F5_non_conforming_path
#       trajectory: "config/bern/trajectory_f5.json"
    - name: opensky_live_data
    - name: add_flight_declaration
    - name: geo_fence_upload

# Reporting configuration
reporting:
  output_dir: "reports"
  formats: ["json", "html", "log"] # 'json' is raw, 'html' is summarized
  # A place to add metadata about the system under test
  deployment_details:
    name: "Local Flight Blender Dev Instance"
    version: "v0.12.0"
    notes: "Running against local Docker Compose setup."
